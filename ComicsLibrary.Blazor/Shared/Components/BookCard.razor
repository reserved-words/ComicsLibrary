@inherits Components.BookCardBase

<MudCard>
    <MudCardHeader>
        <CardHeaderAvatar>
            <MudAvatar Style="@Background">@Book.Publisher</MudAvatar>
        </CardHeaderAvatar>
        <CardHeaderContent>
            <MudText Typo="Typo.body1">@Book.SeriesTitle</MudText>
            <MudText Typo="Typo.body2">@Book.Years</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudMenu Icon="@Icons.Material.Filled.MoreVert" Label="Offset Left" Variant="Variant.Filled" Color="Color.Default" Direction="Direction.Left" OffsetX="true">
                <MudMenuItem>View Series</MudMenuItem>
                <MudMenuItem>Archive</MudMenuItem>
            </MudMenu>
        </CardHeaderActions>
    </MudCardHeader>
    <MudProgressLinear Color="Color.Primary" Value="@Book.Progress" />

    <MudPaper>
        @if (!string.IsNullOrEmpty(Book.ReadUrl))
        {
            <MudLink Href="@Book.ReadUrl" Target="_blank">
                <MudCardMedia Image="@Book.ImageUrl" Height="350" />
            </MudLink>
        }
        else
        {
            <MudCardMedia Image="@Book.ImageUrl" Height="350" Style="opacity: 0.5;">
            </MudCardMedia>
        }
    </MudPaper>
    <MudCardActions>
        <MudIconButton Icon="@MudBlazor.Icons.Rounded.SkipPrevious" Style="@Foreground" Class="mr-auto"  />
        <MudText Typo="Typo.body2">@Book.IssueTitle</MudText>
        <MudIconButton Icon="@MudBlazor.Icons.Rounded.SkipNext" Style="@Foreground" Class="ml-auto" />
    </MudCardActions>
</MudCard>

@code {
    public string Background => $"background-color: {Book.Color};";
    public string Foreground => $"color: {Book.Color};";
}